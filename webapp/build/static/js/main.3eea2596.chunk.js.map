{"version":3,"sources":["pages/Main.js","components/Answer.js","pages/Select.js","components/WQ.js","components/GQ.js","pages/Results.js","Content.js","components/Loading.js","components/Nav.js","App.js","reducer.js","index.js"],"names":["Main","apiDomain","useSelector","state","text","dispatch","useDispatch","FormControl","as","rows","onChange","e","type","payload","target","value","className","Button","variant","onClick","formData","FormData","append","fetch","body","method","then","response","data","catch","error","message","finally","Answer","props","marked","ans","index","first","ButtonGroup","href","disabled","size","chunks","split","replace","startsWith","join","Select","useState","selected","setSelected","display","setDisplay","btnStyle","setBtnStyle","useEffect","markedString","list","newList","i","length","remaining","ansComponent","key","push","stringToDisplay","style","whiteSpace","anchorNodeContext","window","getSelection","anchorNode","textContent","start","indexOf","anchorOffset","undefined","a","substring","b","console","log","onMouseUp","str","toString","trim","x","clientX","y","clientY","position","top","left","zIndex","minHeight","wq","gq","JSON","parse","WQ","contentEditable","useRef","show","setShow","innerRef","html","question","newWQ","slice","tagName","splice","hidden","hideAns","answer","Modal","onHide","centered","Header","closeButton","Body","highlightClassName","searchWords","textToHighlight","context","GQ","choices","setChoices","tempChoices","distractors","sort","Math","random","newGQ","map","choice","num2letter","Results","tab","setTab","setHideAns","ListGroup","horizontal","Item","action","active","Form","Group","controlId","Check","label","checked","range","document","createRange","selectNode","getElementById","removeAllRanges","addRange","execCommand","id","Content","page","Loading","loading","Spinner","animation","Nav","submitted","App","Alert","initialState","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3eea2596.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { FormControl, Button } from 'react-bootstrap'\r\n\r\nfunction Main() {\r\n  const apiDomain = useSelector(state => state.apiDomain);\r\n  const text = useSelector(state => state.text);\r\n  const dispatch = useDispatch();\r\n\r\n  function handleChange(e) {\r\n    dispatch({ type: 'TEXT', payload: e.target.value })\r\n  }\r\n  function handleProceed() {\r\n    if (text === '') return;\r\n    let formData = new FormData();\r\n    formData.append('context', text);\r\n\r\n    dispatch({ type: 'LOADING', payload: true })\r\n    fetch(apiDomain + '/mark', {\r\n      body: formData,\r\n      method: 'POST'\r\n    }).then(response => {\r\n      return response.text();\r\n    }).then(data => {\r\n      dispatch({ type: 'MARKED', payload: data })\r\n      dispatch({ type: 'PAGE', payload: 'select' })\r\n    }).catch(error => {\r\n      dispatch({ type: 'ERROR', payload: error.message })\r\n    }).finally(() => {\r\n      dispatch({ type: 'LOADING', payload: false })\r\n    });\r\n  }\r\n  function sample() {\r\n    dispatch({\r\n      type: 'TEXT', payload:\r\n        `The OUHK is a pioneer of open and distance education. Established by the Government in 1989 as The Open Learning Institute of Hong Kong (OLI), we have striven to achieve our mission of “Education for All”, making quality and flexible further education opportunities available to working adults. After years of steady development, the OUHK attained university title in May 1997, which is a testament to the wide recognition of our academic accomplishments and contributions to higher education.`\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <FormControl\r\n        as=\"textarea\"\r\n        rows='20'\r\n        onChange={handleChange}\r\n        value={text}\r\n        className='mb-2' />\r\n\r\n      <div className=\"mb-2 clearfix\">\r\n        <Button variant=\"primary\" className='float-right ml-3'\r\n          onClick={handleProceed}>\r\n          Proceed\r\n        </Button>\r\n        <Button variant=\"info\" className='float-right'\r\n          onClick={sample}>\r\n          Sample Text\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport './Answer.css'\r\n\r\nfunction Answer(props) {\r\n  const marked = useSelector(state => state.marked);\r\n  const dispatch = useDispatch();\r\n  const ans = props.ans;\r\n  const index = props.index;\r\n  const first = props.first;\r\n\r\n  function handleDelete() {\r\n    let chunks = marked.split(/(?=<ans>)/g);\r\n    if(first){\r\n      chunks[0] = chunks[0].replace('<ans>', '').replace('</ans>', '');\r\n    } else {\r\n      if(marked.startsWith('<ans>')){\r\n        chunks[index-1] = chunks[index-1].replace('<ans>', '').replace('</ans>', '');\r\n      } else {\r\n        chunks[index] = chunks[index].replace('<ans>', '').replace('</ans>', '');\r\n      }\r\n    }\r\n    dispatch({ type: 'MARKED', payload: chunks.join('') })\r\n  }\r\n\r\n  return (\r\n    <ButtonGroup className='unselectable my-1'>\r\n      <Button variant=\"primary\" href=\"#\" disabled size=\"sm\">{ans}</Button>\r\n      <Button variant=\"danger\" size=\"sm\" onClick={handleDelete}>×</Button>\r\n    </ButtonGroup>\r\n  )\r\n}\r\n\r\nexport default Answer;","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button } from 'react-bootstrap'\r\nimport Answer from '../components/Answer'\r\n\r\nfunction Select() {\r\n  const [selected, setSelected] = useState();\r\n  const [display, setDisplay] = useState();\r\n  const [btnStyle, setBtnStyle] = useState({ display: 'none' });\r\n  const apiDomain = useSelector(state => state.apiDomain);\r\n  const text = useSelector(state => state.text);\r\n  const marked = useSelector(state => state.marked);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setDisplay(stringToDisplay(marked));\r\n  }, [marked])\r\n\r\n  function stringToDisplay(markedString) {\r\n    let list = markedString.split('<ans>');\r\n    let newList = [markedString.split('<ans>')[0]];\r\n    for (let i = 1; i < list.length; i++) {\r\n      let first = (list[0].length === 0 && i === 1)\r\n      let ans = list[i].split('</ans>')[0];\r\n      let remaining = (list[i].split('</ans>')[1]);\r\n      let ansComponent = (<Answer ans={ans} index={i} first={first} key={i} />);\r\n      newList.push(ansComponent);\r\n      newList.push(remaining);\r\n    }\r\n    return newList;\r\n  }\r\n\r\n  function handleProceed() {\r\n    let wq = [];\r\n    let gq = [];\r\n    let formData = new FormData();\r\n    formData.append('context', marked);\r\n\r\n    dispatch({ type: 'LOADING', payload: true })\r\n    fetch(apiDomain + '/wh', {\r\n      body: formData,\r\n      method: 'POST'\r\n    }).then(response => {\r\n      return response.text();\r\n    }).then(data => {\r\n      wq = JSON.parse(data);\r\n      dispatch({ type: 'WQ', payload: wq });\r\n\r\n      let formData = new FormData();\r\n      formData.append('context', text);\r\n\r\n      fetch(apiDomain + '/grammar', {\r\n        body: formData,\r\n        method: 'POST'\r\n      }).then(response => {\r\n        return response.text();\r\n      }).then(data => {\r\n        gq = JSON.parse(data);\r\n        dispatch({ type: 'GQ', payload: gq });\r\n\r\n        dispatch({ type: 'SUBMITTED', payload: true });\r\n        dispatch({ type: 'PAGE', payload: 'results' });\r\n      });\r\n    }).catch(error => {\r\n      dispatch({ type: 'ERROR', payload: error.message })\r\n    }).finally(() => {\r\n      dispatch({ type: 'LOADING', payload: false });\r\n    });\r\n  }\r\n\r\n  function handleSelect(e) {\r\n    const str = window.getSelection().toString().trim();\r\n    setSelected(str);\r\n    if (str) {\r\n      const x = e.clientX;\r\n      const y = e.clientY - 40;\r\n      setBtnStyle({\r\n        display: 'block',\r\n        position: 'absolute',\r\n        top: y,\r\n        left: x,\r\n        zIndex: '10'\r\n      });\r\n    } else {\r\n      setBtnStyle({\r\n        display: 'none'\r\n      })\r\n    }\r\n  }\r\n\r\n  function handleAdd() {\r\n    setBtnStyle({\r\n      display: 'none'\r\n    })\r\n    const anchorNodeContext = window.getSelection().anchorNode.textContent;\r\n    const start = marked.indexOf(anchorNodeContext) + window.getSelection().anchorOffset;\r\n    if (start === undefined || selected === '') return;\r\n    let a = marked.substring(0, start);\r\n    let b = marked.substring(start);\r\n    b = b.replace(selected, '<ans>' + selected + '</ans>');\r\n    console.log(start);\r\n    dispatch({ type: 'MARKED', payload: a + b });\r\n  }\r\n\r\n  function removeAll() {\r\n    dispatch({ type: 'MARKED', payload: text });\r\n  }\r\n\r\n  return (\r\n    <div style={{ whiteSpace: 'pre-line' }}>\r\n      <div className='border rounded p-2 mb-2'>\r\n        <Button variant=\"success\" size=\"sm\" style={btnStyle} onClick={handleAdd}>\r\n          +\r\n        </Button>\r\n\r\n        <div onMouseUp={handleSelect} style={{ minHeight: '30rem' }}>\r\n          {display}\r\n        </div>\r\n      </div>\r\n      <div>*Highlight text to add keywords</div>\r\n      <div>*If no keywords, only grammar questions will be generated</div>\r\n\r\n      <div className=\"mb-2 clearfix\">\r\n        <Button variant=\"primary\" className='float-right ml-3' onClick={handleProceed}>\r\n          Proceed\r\n        </Button>\r\n        <Button variant=\"warning\" className='float-right ml-3' onClick={removeAll}>\r\n          Remove all\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Select;","import React, { useState, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport Highlighter from \"react-highlight-words\";\r\nimport ContentEditable from 'react-contenteditable'\r\n\r\nfunction WQ(props) {\r\n  const contentEditable = useRef();\r\n  const wq = useSelector(state => state.wq);\r\n  const dispatch = useDispatch();\r\n  const data = props.data;\r\n  const index = props.index;\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  function handleDelete() {\r\n    let newWQ = wq.slice(0)\r\n    newWQ.splice(index, 1)\r\n    dispatch({ type: 'WQ', payload: newWQ })\r\n  }\r\n\r\n  function handleEdit(e) {\r\n    let newWQ = wq.slice(0)\r\n    newWQ[index].question = e.target.value;\r\n    dispatch({ type: 'WQ', payload: newWQ })\r\n  }\r\n\r\n  return (\r\n    <div className='p-2 mb-2'>\r\n      <div>\r\n        {index + 1}){\" \"}\r\n        <ContentEditable\r\n          innerRef={contentEditable}\r\n          html={data.question} // innerHTML of the editable div\r\n          disabled={false}       // use true to disable editing\r\n          onChange={handleEdit} // handle innerHTML change\r\n          tagName='span' // Use a custom HTML tag (uses a div by default)\r\n        />\r\n        <Button onClick={handleShow} variant=\"outline-info\" size='sm' className='ml-2'>\r\n          Source\r\n        </Button>\r\n        <Button onClick={handleDelete} variant=\"outline-danger\" size='sm' className='ml-2'>\r\n          Delete\r\n        </Button>\r\n      </div>\r\n      <div hidden={props.hideAns}>\r\n        <strong>Answer:</strong> {data.answer}\r\n      </div>\r\n\r\n      <Modal show={show} onHide={handleClose} size='lg' centered>\r\n        <Modal.Header closeButton>\r\n          {index + 1}) {data.question}\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Highlighter\r\n            highlightClassName='highlight'\r\n            searchWords={[data.answer]}\r\n            textToHighlight={data.context}\r\n          />\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      <br />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WQ;","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button } from 'react-bootstrap'\r\n\r\nfunction GQ(props) {\r\n  const [choices, setChoices] = useState([]);\r\n  const gq = useSelector(state => state.gq);\r\n  const dispatch = useDispatch();\r\n  const data = props.data;\r\n  const index = props.index;\r\n\r\n  useEffect(() => {\r\n    let tempChoices = data.distractors.slice(0).splice(0, 3);\r\n    tempChoices.push(data.answer);\r\n    tempChoices.sort((a, b) => 0.5 - Math.random());\r\n    setChoices(tempChoices)\r\n  }, [data])\r\n\r\n  function shuffle() {\r\n    setChoices(choices.slice(0).sort((a, b) => 0.5 - Math.random()));\r\n  }\r\n\r\n  function handleDelete() {\r\n    let newGQ = gq.slice(0)\r\n    newGQ.splice(index, 1)\r\n    dispatch({ type: 'GQ', payload: newGQ })\r\n  }\r\n\r\n  function num2letter(i){\r\n    if(i === 0) return 'A';\r\n    if(i === 1) return 'B';\r\n    if(i === 2) return 'C';\r\n    if(i === 3) return 'D';\r\n  }\r\n\r\n  return (\r\n    <div className='p-2 mb-2'>\r\n      <div>\r\n        {index + 1}) {data.question}\r\n        <Button onClick={shuffle} variant=\"outline-primary\" size='sm' className='ml-2'>\r\n          Shuffle\r\n        </Button>\r\n        <Button onClick={handleDelete} variant=\"outline-danger\" size='sm' className='ml-2'>\r\n          Delete\r\n        </Button>\r\n      </div>\r\n      <div>\r\n        <div hidden={props.hideAns}>\r\n          <strong>Answer:</strong> {data.answer}\r\n        </div>\r\n        {choices.map((choice, i) => (\r\n          <div key={i}>\r\n            {num2letter(i)}) {choice}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <br />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GQ;","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { ListGroup, Form, Button } from 'react-bootstrap';\r\nimport WQ from '../components/WQ';\r\nimport GQ from '../components/GQ';\r\n\r\nfunction Results() {\r\n  const [tab, setTab] = useState()\r\n  const [hideAns, setHideAns] = useState(false)\r\n  const wq = useSelector(state => state.wq);\r\n  const gq = useSelector(state => state.gq);\r\n\r\n  useEffect(() => {\r\n    if (wq.length === 0) {\r\n      setTab('gq');\r\n    } else {\r\n      setTab('wq');\r\n    }\r\n  }, [wq])\r\n\r\n  function CopyToClipboard() {\r\n    let range = document.createRange();\r\n    range.selectNode(document.getElementById('results'));\r\n    window.getSelection().removeAllRanges();\r\n    window.getSelection().addRange(range);\r\n    document.execCommand('copy');\r\n  }\r\n\r\n  function handleChange(e) {\r\n    if (e.target.checked) {\r\n      setHideAns(false);\r\n    } else {\r\n      setHideAns(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ListGroup horizontal className='mb-2 text-center'>\r\n        <ListGroup.Item\r\n          action\r\n          active={tab === 'wq'}\r\n          onClick={() => setTab('wq')}>\r\n          Wh Questions\r\n        </ListGroup.Item>\r\n        <ListGroup.Item\r\n          action\r\n          active={tab === 'gq'}\r\n          onClick={() => setTab('gq')}>\r\n          Grammar Questions\r\n        </ListGroup.Item>\r\n      </ListGroup>\r\n\r\n      <div className='border rounded p-2 mb-2'>\r\n        <div className=\"d-flex justify-content-between p-2 border-bottom\">\r\n          <div>\r\n            <Form.Group controlId=\"showAnswerCheckbox\" className=\"m-0 d-inline-block\" >\r\n              <Form.Check type=\"checkbox\" label=\"Show Answer\" checked={!hideAns} onChange={handleChange} />\r\n            </Form.Group>\r\n            <Button variant=\"outline-primary\" size='sm' className='ml-2' onClick={CopyToClipboard} >\r\n              Copy to Clipboard\r\n            </Button>\r\n          </div>\r\n          <div hidden={tab !== 'wq'}>*Click on a question to edit it</div>\r\n        </div>\r\n\r\n        <div id='results'>\r\n          <div hidden={tab !== 'wq'} >\r\n            {wq.map((data, i) => (\r\n              <WQ data={data} hideAns={hideAns} index={i} key={i} />\r\n            ))}\r\n          </div>\r\n          <div hidden={tab !== 'gq'} >\r\n            {gq.map((data, i) => (\r\n              <GQ data={data} hideAns={hideAns} index={i} key={i} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Main from './pages/Main'\r\nimport Select from './pages/Select'\r\nimport Results from './pages/Results'\r\n\r\nfunction Content() {\r\n  const page = useSelector(state => state.page);\r\n\r\n  switch (page) {\r\n    case 'home':\r\n      return <Main />\r\n    case 'select':\r\n      return <Select />\r\n    case 'results':\r\n      return <Results />\r\n    default:\r\n      return <h1>404</h1>\r\n  }\r\n}\r\n\r\nexport default Content;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport './Loading.css';\r\n\r\nfunction Loading() {\r\n  const loading = useSelector(state => state.loading);\r\n  \r\n  if(loading){\r\n    return (\r\n      <div className='loading'>\r\n        <Spinner animation=\"border\" />\r\n        <div>\r\n          Loading...\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport './Loading.css';\r\n\r\nfunction Nav() {\r\n  const page = useSelector(state => state.page);\r\n  const marked = useSelector(state => state.marked);\r\n  const submitted = useSelector(state => state.submitted);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ListGroup horizontal className='mb-2'>\r\n      <ListGroup.Item\r\n        action\r\n        active={page === 'home'}\r\n        onClick={() => dispatch({ type: 'PAGE', payload: 'home' })}>\r\n        1: Input Text\r\n      </ListGroup.Item>\r\n      <ListGroup.Item\r\n        action\r\n        active={page === 'select'}\r\n        disabled={marked === ''}\r\n        onClick={() => dispatch({ type: 'PAGE', payload: 'select' })}>\r\n        2: Select Keywords\r\n      </ListGroup.Item>\r\n      <ListGroup.Item\r\n        action\r\n        active={page === 'results'}\r\n        disabled={!submitted}\r\n        onClick={() => dispatch({ type: 'PAGE', payload: 'results' })}>\r\n        3: Results\r\n      </ListGroup.Item>\r\n    </ListGroup>\r\n  )\r\n}\r\n\r\nexport default Nav;","import React from 'react';\nimport './App.css';\nimport { Alert } from 'react-bootstrap'\nimport { useSelector } from 'react-redux';\nimport Content from './Content'\nimport Loading from './components/Loading'\nimport Nav from '././components/Nav'\n\nfunction App() {\n  const error = useSelector(state => state.error);\n\n  return (\n    <div className='container'>\n      <header>\n        <h1>\n          Automated Question Generator\n        </h1>\n      </header>\n      <Nav />\n      <Alert variant='warning' hidden={error===''}>\n        {error}\n      </Alert>\n      <Loading />\n      <Content />\n    </div>\n  );\n}\n\nexport default App;","const initialState = {\r\n  apiDomain: '', // for npm run build\r\n  // apiDomain: 'http://localhost:5000/', // for development\r\n  error: '',\r\n  page: 'home',\r\n  loading: false,\r\n  text: '',\r\n  marked: '',\r\n  submitted: false,\r\n  gq: [],\r\n  wq: []\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"ERROR\":\r\n      return { ...state, error: action.payload }\r\n    case \"PAGE\":\r\n      return { ...state, page: action.payload }\r\n    case \"LOADING\":\r\n      return { ...state, loading: action.payload }\r\n    case \"TEXT\":\r\n      return { ...state, text: action.payload }\r\n    case \"MARKED\":\r\n      return { ...state, marked: action.payload }\r\n    case \"SUBMITTED\":\r\n      return { ...state, submitted: action.payload }\r\n    case \"GQ\":\r\n      return { ...state, gq: action.payload }\r\n    case \"WQ\":\r\n      return { ...state, wq: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reducer from './reducer';\n\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}